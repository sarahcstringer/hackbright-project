{% extends 'base.html' %}
{% block content %}

<script>
function initialize() {
  var homeLatLng = {lat: {{session['home_lat']}}, lng: {{session['home_long']}}};
  var mapProp = {
    center:new google.maps.LatLng({{session['home_lat']}},{{session['home_long']}}),
    zoom:12,
    mapTypeId:google.maps.MapTypeId.ROADMAP
  };
  var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);

  var marker=new google.maps.Marker({
    position: homeLatLng,
    map: map
  })
}
google.maps.event.addDomListener(window, 'load', initialize);



</script>

<form action='/logout'>
<input type='submit' value='Logout'>
</form>

<h1>Profile page for {{ username }}</h1>
<br><br>
<button id='previous-day' name='previous-day'>Previous Day</button>
<h3 id='displayDate'>{{ current_date }}</h3>
<button id='next-day' name='next-day'>Next Day</button>

<!-- Get previous day's info -->

<script>

$('#previous-day').on('click', function() {
  var changeDatePrev = {'showDate': $('#displayDate').html()};
  $.post('/change-previous-day', changeDatePrev, function(data) {
    $('#displayDate').html(data);
  })
})

$('#next-day').on('click', function() {
  var changeDateNext = {'showDate': $('#displayDate').html()};
  $.post('/change-next-day', changeDateNext, function(data) {
    $('#displayDate').html(data);
  })
})

</script>


<!-- Location: <input type='text' name='title'/> -->

<div id="googleMap" style="width:500px;height:380px;"></div>

<button id='addLocation' name='addLocation'>Add Location</button>

{% for log in user_logs %}
<div id='{{ log.log_id }}'>Log ID: {{ log.log_id }}; Log Title: {{log.title}}; Comments: {{log.comments}}</div>
{% endfor %}

<script>
var username = "{{session['user']}}";
    $('#addLocation').on('click', function(){
    window.location.href = ('/profile/'+username+'/add-location')})
</script>


<!-- Create markers for map -->

{% for log in user_logs %}

 <script>
   

 </script>

{% endfor %}

{% endblock %}